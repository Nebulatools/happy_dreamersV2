<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1350">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1e3a5f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2d5a87;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="vercelGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#000000;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mongoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00684A;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#004D36;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="openaiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10a37f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d8a6a;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="nextauthGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#7c3aed;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5b21b6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gmailGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#EA4335;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c5221f;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="zoomGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2D8CFF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0b5cde;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataFlowGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
    <marker id="arrowheadBlue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3b82f6"/>
    </marker>
    <marker id="arrowheadCyan" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#06b6d4"/>
    </marker>
    <marker id="arrowheadCyanLeft" markerWidth="10" markerHeight="7" refX="1" refY="3.5" orient="auto">
      <polygon points="10 0, 0 3.5, 10 7" fill="#06b6d4"/>
    </marker>
    <marker id="arrowheadGreen" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#10b981"/>
    </marker>
    <marker id="arrowheadOrange" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f59e0b"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1400" height="1350" fill="#f8fafc"/>

  <!-- Header -->
  <rect x="0" y="0" width="1400" height="80" fill="url(#headerGrad)"/>
  <text x="700" y="35" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white" text-anchor="middle">HAPPY DREAMERS V2 - INFRASTRUCTURE DIAGRAM</text>
  <text x="700" y="60" font-family="Arial, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">https://happy-dreamers-v2.vercel.app</text>

  <!-- Clients Section -->
  <rect x="50" y="100" width="1300" height="100" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <text x="700" y="125" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e3a5f" text-anchor="middle">CLIENTS</text>

  <!-- Web Browser -->
  <rect x="200" y="140" width="150" height="50" rx="8" fill="#3b82f6" filter="url(#shadow)"/>
  <text x="275" y="160" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Web Browser</text>
  <text x="275" y="178" font-family="Arial, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">React 19 + Next.js</text>

  <!-- Mobile PWA -->
  <rect x="625" y="140" width="150" height="50" rx="8" fill="#3b82f6" filter="url(#shadow)"/>
  <text x="700" y="160" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Mobile PWA</text>
  <text x="700" y="178" font-family="Arial, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">Service Worker</text>

  <!-- Desktop PWA -->
  <rect x="1050" y="140" width="150" height="50" rx="8" fill="#3b82f6" filter="url(#shadow)"/>
  <text x="1125" y="160" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Desktop PWA</text>
  <text x="1125" y="178" font-family="Arial, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">Offline Support</text>

  <!-- Connection lines from clients -->
  <line x1="275" y1="190" x2="275" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="700" y1="190" x2="700" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="1125" y1="190" x2="1125" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="275" y1="220" x2="1125" y2="220" stroke="#3b82f6" stroke-width="2"/>
  <line x1="700" y1="220" x2="700" y2="250" stroke="#3b82f6" stroke-width="2" marker-end="url(#arrowheadBlue)"/>

  <!-- HTTPS Label -->
  <rect x="620" y="225" width="160" height="20" rx="4" fill="#dbeafe"/>
  <text x="700" y="239" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1e40af" text-anchor="middle">HTTPS (TLS 1.3)</text>

  <!-- Vercel Edge Network -->
  <rect x="50" y="260" width="1300" height="270" rx="10" fill="url(#vercelGrad)" filter="url(#shadow)"/>
  <text x="700" y="290" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">VERCEL EDGE NETWORK</text>
  <text x="700" y="310" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8" text-anchor="middle">Global CDN - 100+ Edge Locations</text>

  <!-- Edge Middleware -->
  <rect x="80" y="325" width="1240" height="50" rx="6" fill="#27272a" stroke="#3f3f46" stroke-width="1"/>
  <text x="700" y="345" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#a1a1aa" text-anchor="middle">EDGE MIDDLEWARE</text>
  <text x="700" y="365" font-family="Arial, sans-serif" font-size="10" fill="#71717a" text-anchor="middle">Rate Limiting | Security Headers (CSP, X-Frame-Options) | Request Routing | Cache Control</text>

  <!-- Static Assets -->
  <rect x="80" y="390" width="280" height="125" rx="8" fill="#18181b" stroke="#3f3f46" stroke-width="1"/>
  <text x="220" y="415" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">STATIC ASSETS</text>
  <text x="220" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a1a1aa" text-anchor="middle">/public/*</text>
  <text x="220" y="455" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">Images, Fonts</text>
  <text x="220" y="470" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">service-worker.js</text>
  <text x="220" y="485" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">manifest.json, offline.html</text>
  <text x="220" y="505" font-family="Arial, sans-serif" font-size="9" fill="#22c55e" text-anchor="middle">Cache: 1 year (immutable)</text>

  <!-- Next.js App Router -->
  <rect x="380" y="390" width="310" height="125" rx="8" fill="#18181b" stroke="#3f3f46" stroke-width="1"/>
  <text x="535" y="415" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">NEXT.JS APP ROUTER</text>
  <text x="535" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a1a1aa" text-anchor="middle">Server + Client Components</text>
  <text x="535" y="455" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/auth/* (login, register)</text>
  <text x="535" y="470" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/dashboard/* (children, planes, calendar)</text>
  <text x="535" y="485" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/dashboard/assistant, /consultas</text>
  <text x="535" y="505" font-family="Arial, sans-serif" font-size="9" fill="#22c55e" text-anchor="middle">ISR + Edge Caching</text>

  <!-- API Routes -->
  <rect x="710" y="390" width="310" height="125" rx="8" fill="#18181b" stroke="#3f3f46" stroke-width="1"/>
  <text x="865" y="415" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">API ROUTES (Serverless)</text>
  <text x="865" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a1a1aa" text-anchor="middle">Next.js API Functions</text>
  <text x="865" y="455" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/api/auth/*, /api/children/*</text>
  <text x="865" y="470" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/api/events/*, /api/consultas/*</text>
  <text x="865" y="485" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">/api/chat/*, /api/admin/*</text>
  <text x="865" y="505" font-family="Arial, sans-serif" font-size="9" fill="#f59e0b" text-anchor="middle">Max Duration: 10s-30s</text>

  <!-- Vercel Logo placeholder -->
  <rect x="1040" y="390" width="280" height="125" rx="8" fill="#18181b" stroke="#3f3f46" stroke-width="1"/>
  <text x="1180" y="430" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="white" text-anchor="middle">V</text>
  <text x="1180" y="455" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">VERCEL</text>
  <text x="1180" y="475" font-family="Arial, sans-serif" font-size="10" fill="#71717a" text-anchor="middle">Platform Features:</text>
  <text x="1180" y="490" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">Auto-scaling, SSL, CI/CD</text>
  <text x="1180" y="505" font-family="Arial, sans-serif" font-size="9" fill="#71717a" text-anchor="middle">Edge Functions, Analytics</text>

  <!-- Connection from API Routes to Backend -->
  <line x1="865" y1="515" x2="865" y2="560" stroke="#666" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead)"/>

  <!-- Backend Services Section -->
  <rect x="50" y="570" width="1300" height="230" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadow)"/>
  <text x="700" y="595" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e3a5f" text-anchor="middle">BACKEND SERVICES</text>

  <!-- NextAuth -->
  <rect x="80" y="610" width="200" height="170" rx="8" fill="url(#nextauthGrad)" filter="url(#shadow)"/>
  <text x="180" y="635" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">AUTHENTICATION</text>
  <rect x="95" y="645" width="170" height="120" rx="6" fill="rgba(255,255,255,0.1)"/>
  <text x="180" y="665" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">NextAuth.js</text>
  <text x="180" y="685" font-family="Arial, sans-serif" font-size="9" fill="#e9d5ff" text-anchor="middle">JWT Tokens</text>
  <text x="180" y="700" font-family="Arial, sans-serif" font-size="9" fill="#e9d5ff" text-anchor="middle">Sessions (MongoDB)</text>
  <text x="180" y="715" font-family="Arial, sans-serif" font-size="9" fill="#e9d5ff" text-anchor="middle">bcryptjs (Password Hash)</text>
  <text x="180" y="735" font-family="Arial, sans-serif" font-size="9" fill="#c4b5fd" text-anchor="middle">Roles: parent, professional, admin</text>
  <text x="180" y="755" font-family="Arial, sans-serif" font-size="9" fill="#c4b5fd" text-anchor="middle">RBAC Access Control</text>

  <!-- MongoDB -->
  <rect x="300" y="610" width="250" height="170" rx="8" fill="url(#mongoGrad)" filter="url(#shadow)"/>
  <text x="425" y="635" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">DATABASE</text>
  <rect x="315" y="645" width="220" height="120" rx="6" fill="rgba(255,255,255,0.1)"/>
  <text x="425" y="665" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">MongoDB Atlas</text>
  <text x="425" y="685" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Cluster: nebulacluster01</text>
  <text x="425" y="700" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">DB: jaco_db_ultimate_2025</text>
  <text x="425" y="718" font-family="Arial, sans-serif" font-size="9" fill="#bbf7d0" text-anchor="middle">Collections:</text>
  <text x="425" y="733" font-family="Arial, sans-serif" font-size="8" fill="#bbf7d0" text-anchor="middle">users, children, events, sessions</text>
  <text x="425" y="755" font-family="Arial, sans-serif" font-size="9" fill="#4ade80" text-anchor="middle">Vector Search | Pool: 10 conn</text>

  <!-- OpenAI / AI Services -->
  <rect x="570" y="610" width="250" height="170" rx="8" fill="url(#openaiGrad)" filter="url(#shadow)"/>
  <text x="695" y="635" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">AI / ML SERVICES</text>
  <rect x="585" y="645" width="220" height="120" rx="6" fill="rgba(255,255,255,0.1)"/>
  <text x="695" y="665" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">OpenAI API</text>
  <text x="695" y="685" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Model: GPT-4o-mini</text>
  <text x="695" y="700" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">LangChain + LangGraph</text>
  <text x="695" y="718" font-family="Arial, sans-serif" font-size="9" fill="#bbf7d0" text-anchor="middle">Features:</text>
  <text x="695" y="733" font-family="Arial, sans-serif" font-size="8" fill="#bbf7d0" text-anchor="middle">Chat, RAG, Sleep Plans, Analysis</text>
  <text x="695" y="755" font-family="Arial, sans-serif" font-size="9" fill="#4ade80" text-anchor="middle">Temp: 0.2 | MaxTokens: 2000</text>

  <!-- External Services -->
  <rect x="840" y="610" width="200" height="170" rx="8" fill="url(#gmailGrad)" filter="url(#shadow)"/>
  <text x="940" y="635" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white" text-anchor="middle">EMAIL SERVICE</text>
  <rect x="855" y="645" width="170" height="120" rx="6" fill="rgba(255,255,255,0.1)"/>
  <text x="940" y="665" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Gmail SMTP</text>
  <text x="940" y="685" font-family="Arial, sans-serif" font-size="9" fill="#fecaca" text-anchor="middle">smtp.gmail.com:465</text>
  <text x="940" y="700" font-family="Arial, sans-serif" font-size="9" fill="#fecaca" text-anchor="middle">TLS/SSL Enabled</text>
  <text x="940" y="718" font-family="Arial, sans-serif" font-size="9" fill="#fecaca" text-anchor="middle">Nodemailer</text>
  <text x="940" y="740" font-family="Arial, sans-serif" font-size="8" fill="#fed7aa" text-anchor="middle">From: contact@ezyai.pro</text>
  <text x="940" y="755" font-family="Arial, sans-serif" font-size="8" fill="#fed7aa" text-anchor="middle">"Happy Dreamers"</text>

  <!-- Zoom Integration -->
  <rect x="1060" y="610" width="130" height="80" rx="8" fill="url(#zoomGrad)" filter="url(#shadow)"/>
  <text x="1125" y="635" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Zoom API</text>
  <text x="1125" y="655" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">Meetings</text>
  <text x="1125" y="670" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">Webhooks</text>
  <text x="1125" y="685" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">OAuth2</text>

  <!-- Google APIs -->
  <rect x="1200" y="610" width="130" height="80" rx="8" fill="#4285F4" filter="url(#shadow)"/>
  <text x="1265" y="635" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Google APIs</text>
  <text x="1265" y="655" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">Drive</text>
  <text x="1265" y="670" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">Calendar</text>

  <!-- Gemini -->
  <rect x="1060" y="700" width="130" height="80" rx="8" fill="#8E44AD" filter="url(#shadow)"/>
  <text x="1125" y="725" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Google AI</text>
  <text x="1125" y="745" font-family="Arial, sans-serif" font-size="9" fill="#e9d5ff" text-anchor="middle">Gemini API</text>
  <text x="1125" y="760" font-family="Arial, sans-serif" font-size="8" fill="#e9d5ff" text-anchor="middle">(Backup Provider)</text>

  <!-- AWS -->
  <rect x="1200" y="700" width="130" height="80" rx="8" fill="#FF9900" filter="url(#shadow)"/>
  <text x="1265" y="725" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">AWS SDK</text>
  <text x="1265" y="745" font-family="Arial, sans-serif" font-size="9" fill="#fef3c7" text-anchor="middle">Cloud Services</text>
  <text x="1265" y="760" font-family="Arial, sans-serif" font-size="8" fill="#fef3c7" text-anchor="middle">(Optional)</text>

  <!-- ============================================== -->
  <!-- DATA FLOW DIAGRAM SECTION -->
  <!-- ============================================== -->
  <rect x="50" y="820" width="1300" height="180" rx="10" fill="#ecfeff" stroke="#06b6d4" stroke-width="2" filter="url(#shadow)"/>
  <text x="700" y="848" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#0e7490" text-anchor="middle">DATA FLOW DIAGRAM</text>

  <!-- Client Box -->
  <rect x="100" y="870" width="120" height="60" rx="8" fill="#3b82f6" filter="url(#shadow)"/>
  <text x="160" y="895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Client</text>
  <text x="160" y="915" font-family="Arial, sans-serif" font-size="9" fill="#bfdbfe" text-anchor="middle">(PWA)</text>

  <!-- Vercel Edge Box -->
  <rect x="290" y="870" width="120" height="60" rx="8" fill="#000000" filter="url(#shadow)"/>
  <text x="350" y="895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">Vercel</text>
  <text x="350" y="915" font-family="Arial, sans-serif" font-size="9" fill="#a1a1aa" text-anchor="middle">Edge</text>

  <!-- API Routes Box -->
  <rect x="480" y="870" width="120" height="60" rx="8" fill="#1e293b" filter="url(#shadow)"/>
  <text x="540" y="895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">API</text>
  <text x="540" y="915" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Routes</text>

  <!-- MongoDB Box -->
  <rect x="670" y="870" width="120" height="60" rx="8" fill="url(#mongoGrad)" filter="url(#shadow)"/>
  <text x="730" y="895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">MongoDB</text>
  <text x="730" y="915" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">Atlas</text>

  <!-- OpenAI Box -->
  <rect x="860" y="870" width="120" height="60" rx="8" fill="url(#openaiGrad)" filter="url(#shadow)"/>
  <text x="920" y="895" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white" text-anchor="middle">OpenAI</text>
  <text x="920" y="915" font-family="Arial, sans-serif" font-size="9" fill="#86efac" text-anchor="middle">GPT-4</text>

  <!-- NextAuth Box -->
  <rect x="540" y="945" width="100" height="45" rx="6" fill="url(#nextauthGrad)" filter="url(#shadow)"/>
  <text x="590" y="965" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">NextAuth</text>
  <text x="590" y="980" font-family="Arial, sans-serif" font-size="8" fill="#e9d5ff" text-anchor="middle">(Sessions)</text>

  <!-- Gmail SMTP Box -->
  <rect x="730" y="945" width="100" height="45" rx="6" fill="url(#gmailGrad)" filter="url(#shadow)"/>
  <text x="780" y="965" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white" text-anchor="middle">Gmail SMTP</text>
  <text x="780" y="980" font-family="Arial, sans-serif" font-size="8" fill="#fecaca" text-anchor="middle">(Emails)</text>

  <!-- Flow Arrows - Main horizontal flow -->
  <line x1="220" y1="900" x2="280" y2="900" stroke="#06b6d4" stroke-width="3" marker-end="url(#arrowheadCyan)"/>
  <line x1="410" y1="900" x2="470" y2="900" stroke="#06b6d4" stroke-width="3" marker-end="url(#arrowheadCyan)"/>
  <line x1="600" y1="900" x2="660" y2="900" stroke="#06b6d4" stroke-width="3" marker-end="url(#arrowheadCyan)"/>
  <line x1="790" y1="900" x2="850" y2="900" stroke="#06b6d4" stroke-width="3" marker-end="url(#arrowheadCyan)"/>

  <!-- Reverse arrows -->
  <line x1="280" y1="910" x2="220" y2="910" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,2" marker-end="url(#arrowheadCyan)"/>
  <line x1="470" y1="910" x2="410" y2="910" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,2" marker-end="url(#arrowheadCyan)"/>
  <line x1="660" y1="910" x2="600" y2="910" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,2" marker-end="url(#arrowheadCyan)"/>

  <!-- Connection from API to NextAuth -->
  <line x1="540" y1="930" x2="540" y2="945" stroke="#7c3aed" stroke-width="2"/>
  <line x1="590" y1="945" x2="590" y2="930" stroke="#7c3aed" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Connection from Client to Gmail (Notifications) -->
  <path d="M 160 930 Q 160 967 220 967 L 720 967" stroke="#f59e0b" stroke-width="2" fill="none" stroke-dasharray="5,3"/>
  <text x="440" y="960" font-family="Arial, sans-serif" font-size="8" fill="#f59e0b" text-anchor="middle">(Notifications)</text>

  <!-- Connection from OpenAI to Gmail (AI Reports) -->
  <line x1="920" y1="930" x2="920" y2="967" stroke="#10b981" stroke-width="2"/>
  <line x1="920" y1="967" x2="840" y2="967" stroke="#10b981" stroke-width="2" marker-end="url(#arrowheadGreen)"/>
  <text x="880" y="958" font-family="Arial, sans-serif" font-size="8" fill="#10b981" text-anchor="middle">(AI Reports)</text>

  <!-- ============================================== -->
  <!-- TECH STACK SUMMARY -->
  <!-- ============================================== -->
  <rect x="50" y="1020" width="1300" height="80" rx="10" fill="#1e293b" filter="url(#shadow)"/>
  <text x="700" y="1045" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white" text-anchor="middle">TECHNOLOGY STACK SUMMARY</text>

  <!-- Frontend -->
  <text x="250" y="1070" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3b82f6" text-anchor="middle">FRONTEND</text>
  <text x="250" y="1085" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Next.js 15 | React 19 | TypeScript | Tailwind | shadcn/ui</text>

  <!-- Backend -->
  <text x="700" y="1070" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#10b981" text-anchor="middle">BACKEND</text>
  <text x="700" y="1085" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Node.js Serverless | Mongoose | NextAuth | LangChain | OpenAI SDK</text>

  <!-- Infrastructure -->
  <text x="1150" y="1070" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#f59e0b" text-anchor="middle">INFRASTRUCTURE</text>
  <text x="1150" y="1085" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8" text-anchor="middle">Vercel | MongoDB Atlas | GitHub Actions</text>

  <!-- Security Footer -->
  <rect x="50" y="1120" width="1300" height="60" rx="10" fill="#fef2f2" stroke="#fecaca" stroke-width="1" filter="url(#shadow)"/>
  <text x="700" y="1145" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#991b1b" text-anchor="middle">SECURITY LAYERS</text>
  <text x="700" y="1165" font-family="Arial, sans-serif" font-size="10" fill="#b91c1c" text-anchor="middle">TLS 1.3 | JWT Auth | RBAC | bcrypt Hashing | Input Validation (Zod) | Rate Limiting | Data Isolation | CSP Headers</text>

  <!-- Footer -->
  <rect x="0" y="1200" width="1400" height="150" fill="#0f172a"/>
  <text x="700" y="1235" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">Happy Dreamers V2 - Sleep Tracking Platform</text>
  <text x="700" y="1265" font-family="Arial, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Production URL: https://happy-dreamers-v2.vercel.app</text>
  <text x="700" y="1295" font-family="Arial, sans-serif" font-size="10" fill="#475569" text-anchor="middle">Generated: December 2024 | Platform: Vercel (Global Edge Distribution)</text>

  <!-- Legend in footer -->
  <line x1="200" y1="1320" x2="250" y2="1320" stroke="#06b6d4" stroke-width="3"/>
  <text x="260" y="1324" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Request Flow</text>

  <line x1="400" y1="1320" x2="450" y2="1320" stroke="#06b6d4" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="460" y="1324" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Response Flow</text>

  <line x1="600" y1="1320" x2="650" y2="1320" stroke="#f59e0b" stroke-width="2" stroke-dasharray="5,3"/>
  <text x="660" y="1324" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Notifications</text>

  <line x1="800" y1="1320" x2="850" y2="1320" stroke="#10b981" stroke-width="2"/>
  <text x="860" y="1324" font-family="Arial, sans-serif" font-size="9" fill="#64748b">AI Reports</text>

  <rect x="1000" y="1312" width="16" height="16" rx="3" fill="#3b82f6"/>
  <text x="1025" y="1324" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Service/Component</text>
</svg>