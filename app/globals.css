@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ===== NUEVO SISTEMA DE COLORES HAPPY DREAMERS ===== */
    
    /* Colores Base */
    --background: 0 0% 100%;  /* #FFFFFF */
    --foreground: 210 9% 10%; /* #111827 - texto principal */
    
    /* Cards y Superficies */
    --card: 0 0% 100%;        /* #FFFFFF */
    --card-foreground: 210 9% 10%; /* #111827 */
    
    /* Popovers */
    --popover: 0 0% 100%;     /* #FFFFFF */
    --popover-foreground: 210 9% 10%; /* #111827 */
    
    /* Color Primario (Azul Happy Dreamers) */
    --primary: 214 92% 60%;    /* #3B82F6 */
    --primary-foreground: 0 0% 100%; /* #FFFFFF */
    
    /* Color Secundario */
    --secondary: 214 95% 93%;  /* #EDE9FE tono azul claro */
    --secondary-foreground: 214 13% 25%; /* #374151 */
    
    /* Estados Silenciados */
    --muted: 215 94% 98%;      /* #F5F9FF - fondo de inputs */
    --muted-foreground: 215 12% 60%; /* #ADAEBC - placeholders */
    
    /* Acentos */
    --accent: 215 94% 98%;     /* #F5F9FF */
    --accent-foreground: 214 13% 25%; /* #374151 */
    
    /* Estados Destructivos */
    --destructive: 0 84% 60%;  /* Color de error */
    --destructive-foreground: 0 0% 100%; /* #FFFFFF */
    
    /* Bordes e Inputs */
    --border: 220 13% 91%;     /* #E5E7EB */
    --input: 220 13% 91%;      /* #E5E7EB */
    --input-focused: 214 92% 60%; /* #4286F6 - border cuando enfocado */
    
    /* Ring (enfoque) */
    --ring: 214 92% 60%;       /* #3B82F6 */
    
    /* Radio de bordes */
    --radius: 0.75rem;         /* 12px - nuevo estándar */
    
    /* === COLORES ESPECÍFICOS HAPPY DREAMERS === */
    /* Gradientes */
    --gradient-sidebar-from: 245 88% 94%;  /* #EAE8FE */
    --gradient-sidebar-to: 213 86% 71%;    /* #6AAAFA */
    
    --gradient-button-from: 227 65% 66%;   /* #628BE6 */
    --gradient-button-to: 201 100% 70%;    /* #67C5FF */
    
    /* Colores de eventos */
    --color-sleep: 201 56% 68%;            /* #7DBFE2 - Dormir/Acostarse */
    --color-nap: 37 90% 56%;               /* #F5A623 - Siesta */
    --color-wake: 48 100% 50%;             /* #FFD700 - Despertar matutino (amarillo sol) */
    --color-night-wake: 358 100% 78%;     /* #FF9194 - Despertar nocturno */
    --color-feeding: 120 50% 50%;          /* #40BF40 - Alimentación (verde) */
    --color-medication: 285 60% 65%;       /* #BF73DF - Medicamentos (púrpura) */
    --color-extra-activity: 180 60% 50%;   /* #33CCCC - Actividad Extra (turquesa) */
    
    /* Colores principales Figma */
    --color-blue-primary: 218 56% 40%;     /* #2553A1 */
    --color-blue-secondary: 213 84% 61%;   /* #4A90E2 */
    --color-gray-dark: 0 0% 18%;           /* #2F2F2F */
    --color-gray-medium: 217 9% 37%;       /* #4D4E78 */
    --color-gray-light: 220 9% 46%;        /* #6B7280 */
    
    /* Texto específico */
    --text-primary: 210 9% 10%;    /* #111827 */
    --text-secondary: 215 20% 65%; /* #6B7280 */
    --text-label: 214 13% 25%;     /* #374151 */
    --text-placeholder: 215 12% 60%; /* #ADAEBC */
    
    /* Fondos específicos */
    --bg-input: 215 94% 98%;       /* #F5F9FF */
    --bg-card: 0 0% 100%;          /* #FFFFFF */
  }

  .dark {
    /* Modo oscuro (ajustado para mantener coherencia) */
    --background: 210 9% 10%;      /* #111827 */
    --foreground: 0 0% 98%;        /* #FAFAFA */
    
    --card: 214 13% 15%;           /* Gris azulado oscuro */
    --card-foreground: 0 0% 98%;   /* #FAFAFA */
    
    --popover: 214 13% 15%;        /* Gris azulado oscuro */
    --popover-foreground: 0 0% 98%; /* #FAFAFA */
    
    --primary: 214 92% 60%;        /* #3B82F6 - mantener azul */
    --primary-foreground: 0 0% 100%; /* #FFFFFF */
    
    --secondary: 214 13% 20%;      /* Gris azulado más claro */
    --secondary-foreground: 0 0% 98%; /* #FAFAFA */
    
    --muted: 214 13% 20%;          /* Gris azulado más claro */
    --muted-foreground: 215 20% 65%; /* #6B7280 */
    
    --accent: 214 13% 20%;         /* Gris azulado más claro */
    --accent-foreground: 0 0% 98%; /* #FAFAFA */
    
    --destructive: 0 62% 50%;      /* Color de error más oscuro */
    --destructive-foreground: 0 0% 98%; /* #FAFAFA */
    
    --border: 214 13% 20%;         /* Gris azulado más claro */
    --input: 214 13% 20%;          /* Gris azulado más claro */
    --input-focused: 214 92% 60%;  /* #3B82F6 */
    
    --ring: 214 92% 60%;           /* #3B82F6 */
  }
}

/* ===== ANIMACIONES ===== */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  /* Estilos base mejorados */
  h1, h2, h3, h4, h5, h6 {
    @apply font-semibold text-hd-primary;
  }
  
  p {
    @apply text-hd-secondary leading-relaxed;
  }
}

@layer components {
  /* === UTILIDADES ESPECÍFICAS HAPPY DREAMERS === */
  
  .hd-gradient-primary {
    background: linear-gradient(to bottom, hsl(var(--gradient-sidebar-from)) 0%, hsl(var(--gradient-sidebar-to)) 100%);
  }
  
  .hd-gradient-button {
    background: linear-gradient(135deg, hsl(var(--gradient-button-from)) 0%, hsl(var(--gradient-button-to)) 100%);
  }
  
  .hd-gradient-secondary {
    background: linear-gradient(135deg, hsl(var(--gradient-button-from)) 0%, hsl(var(--gradient-button-to)) 100%);
  }
  
  .hd-card-shadow {
    box-shadow: 0px 10px 15px 0px rgba(0, 0, 0, 0.1), 0px 4px 6px 0px rgba(0, 0, 0, 0.1);
  }
  
  .hd-input-base {
    @apply h-12 px-4 bg-bg-input border border-input rounded-xl;
    @apply text-hd-primary placeholder:text-hd-placeholder;
    @apply focus:border-input-focused focus:ring-2 focus:ring-primary/20;
    @apply transition-all duration-200;
  }
  
  .hd-button-primary {
    @apply h-12 px-6 rounded-xl font-medium text-sm;
    @apply hd-gradient-primary text-white;
    @apply hover:shadow-lg hover:scale-[1.02];
    @apply active:scale-[0.98];
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  }
  
  .hd-button-secondary {
    @apply h-12 px-6 rounded-xl font-medium text-sm;
    @apply bg-white border border-border text-hd-label;
    @apply hover:bg-accent hover:shadow-md;
    @apply active:scale-[0.98];
    @apply transition-all duration-200;
    @apply disabled:opacity-50 disabled:cursor-not-allowed;
  }
  
  .hd-label {
    @apply text-sm font-medium text-hd-label mb-2 block;
  }
  
  .hd-card {
    @apply bg-bg-card rounded-3xl hd-card-shadow border border-border/50;
    @apply p-6;
  }
}

@layer utilities {
  /* Text utilities específicas */
  .text-hd-primary {
    color: hsl(var(--text-primary));
  }
  
  .text-hd-secondary {
    color: hsl(var(--text-secondary));
  }
  
  .text-hd-label {
    color: hsl(var(--text-label));
  }
  
  .text-hd-placeholder {
    color: hsl(var(--text-placeholder));
  }
  
  /* Background utilities */
  .bg-hd-input {
    background-color: hsl(var(--bg-input));
  }
  
  .bg-hd-card {
    background-color: hsl(var(--bg-card));
  }
  
  /* Border utilities */
  .border-hd-input-focused {
    border-color: hsl(var(--input-focused));
  }
  
  /* Event type colors */
  .bg-sleep {
    background-color: hsl(var(--color-sleep));
  }
  
  .bg-nap {
    background-color: hsl(var(--color-nap));
  }
  
  .bg-wake {
    background-color: hsl(var(--color-wake));
  }
  
  .bg-night-wake {
    background-color: hsl(var(--color-night-wake));
  }
  
  .bg-feeding {
    background-color: #10b981;
  }
  
  .bg-medication {
    background-color: #a855f7;
  }
  
  .bg-activity {
    background-color: #06b6d4;
  }
  
  .bg-extra-activities {
    background-color: #06b6d4;
  }
  
  
  /* Event type colors with opacity */
  .bg-sleep\/10 {
    background-color: hsl(var(--color-sleep) / 0.1);
  }
  
  .bg-nap\/10 {
    background-color: hsl(var(--color-nap) / 0.1);
  }
  
  .bg-wake\/10 {
    background-color: hsl(var(--color-wake) / 0.1);
  }
  
  .bg-night-wake\/10 {
    background-color: hsl(var(--color-night-wake) / 0.1);
  }
  
  .bg-feeding\/10 {
    background-color: rgba(16, 185, 129, 0.1);
  }
  
  .bg-medication\/10 {
    background-color: rgba(168, 85, 247, 0.1);
  }
  
  .bg-activity\/10 {
    background-color: rgba(6, 182, 212, 0.1);
  }
  
  .bg-extra-activities\/10 {
    background-color: rgba(6, 182, 212, 0.1);
  }
  
  /* Event type border colors */
  .border-sleep {
    border-color: hsl(var(--color-sleep));
  }
  
  .border-nap {
    border-color: hsl(var(--color-nap));
  }
  
  .border-wake {
    border-color: hsl(var(--color-wake));
  }
  
  .border-night-wake {
    border-color: hsl(var(--color-night-wake));
  }
  
  .border-feeding {
    border-color: hsl(var(--color-feeding));
  }
  
  .border-medication {
    border-color: hsl(var(--color-medication));
  }
  
  .border-extra-activity {
    border-color: hsl(var(--color-extra-activity));
  }
  
  /* Event pills */
  .event-pill {
    @apply px-3 py-1 rounded-full text-xs font-medium text-white;
  }
  
  /* Calendar cell */
  .calendar-cell {
    @apply min-h-[100px] p-2 border border-gray-200 hover:bg-gray-50 transition-colors;
  }
  
  /* Chat message bubbles */
  .chat-bubble-assistant {
    @apply bg-[#EDE5FF] rounded-2xl p-4 max-w-[80%];
  }
  
  .chat-bubble-user {
    @apply bg-[#EBF4FF] rounded-2xl p-4 max-w-[80%] ml-auto;
  }
  
  /* Step indicator */
  .step-circle {
    @apply w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-200;
  }
  
  .step-circle-active {
    @apply bg-blue-500 text-white border-2 border-blue-500;
  }
  
  .step-circle-completed {
    @apply bg-blue-500 text-white;
  }
  
  .step-circle-pending {
    @apply bg-gray-200 text-gray-500;
  }

  /* === CALENDAR TIMELINE STYLES === */
  
  /* Timeline container */
  .calendar-timeline {
    @apply relative overflow-hidden;
  }
  
  /* Timeline column */
  .timeline-column {
    @apply w-16 flex-shrink-0 bg-gray-50 border-r border-gray-200;
  }
  
  /* Compact timeline column for tablets */
  .timeline-column-compact {
    @apply w-12 flex-shrink-0 bg-gray-50 border-r border-gray-200;
  }
  
  /* Week view with timeline */
  .week-view-timeline {
    @apply flex overflow-x-auto;
  }
  
  /* Day column in timeline view */
  .day-column-timeline {
    @apply flex-1 min-w-0 border-r border-gray-200 last:border-r-0 relative;
    min-height: 600px; /* 24 hours * 25px */
  }
  
  /* Day column header in timeline */
  .day-header-timeline {
    @apply h-12 bg-white border-b border-gray-200 flex flex-col items-center justify-center text-sm font-medium sticky top-0 z-20;
  }
  
  /* Events container within day column */
  .events-timeline-container {
    @apply relative flex-1;
    height: 600px; /* 24 hours * 25px per hour */
    background: linear-gradient(
      to bottom,
      hsl(220 40% 85%) 0%,        /* Noche (0:00-6:00) - Azul oscuro */
      hsl(220 40% 85%) 25%,       /* 25% = 6 horas de 24 */
      hsl(48 100% 94%) 25%,       /* Día (6:00-19:00) - Amarillo claro */
      hsl(48 100% 94%) 79.17%,    /* 79.17% = 19 horas de 24 */
      hsl(220 40% 85%) 79.17%,    /* Noche (19:00-24:00) - Azul oscuro */
      hsl(220 40% 85%) 100%
    );
  }
  
  /* Hour grid lines */
  .hour-grid-line {
    @apply absolute left-0 right-0 border-t border-gray-100;
  }
  
  .hour-grid-line-major {
    @apply absolute left-0 right-0 border-t-2 border-gray-200;
  }
  
  /* Event positioning helpers */
  .event-positioned {
    @apply absolute left-1 right-1;
  }
  
  /* Timeline responsive breakpoints */
  @screen md {
    .day-column-timeline {
      min-height: 600px; /* Mantener altura ajustada 25px por hora */
    }
    
    .events-timeline-container {
      height: 600px;
    }
  }
  
  @screen lg {
    .timeline-column {
      @apply w-20;
    }
  }
  
  /* Indicadores de período del día */
  .timeline-period-indicator {
    @apply absolute left-0 right-0 flex items-center justify-center text-xs font-medium opacity-50 pointer-events-none;
  }
  
  /* Layout toggle styles */
  .layout-toggle-button {
    @apply p-2 rounded-lg border border-gray-200 bg-white hover:bg-gray-50 transition-colors duration-200;
  }
  
  .layout-toggle-active {
    @apply bg-blue-50 border-blue-200 text-blue-600;
  }
  
  /* Summary panel styles */
  .summary-panel-lateral {
    @apply w-full lg:w-80 flex-shrink-0;
  }
  
  .summary-panel-bottom {
    @apply w-full;
  }
  
  .summary-cards-horizontal {
    @apply grid grid-cols-1 md:grid-cols-3 gap-4;
  }
}
