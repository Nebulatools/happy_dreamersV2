# Session Context - Happy Dreamers

*Last Updated: January 21, 2025*

## ðŸŽ¯ Current System State

### Project Overview
- **Tech Stack**: Next.js 15.2.4, React 19, TypeScript 5, MongoDB, NextAuth.js
- **Primary Focus**: Comprehensive sleep tracking and AI-powered consultations for children
- **Status**: Development environment initialized, Claude AI workflow active

### System Architecture
- **Frontend**: Next.js with App Router, shadcn/ui components, Tailwind CSS
- **Backend**: Next.js API Routes (serverless functions)
- **Database**: MongoDB with Mongoose ODM
- **Deployment**: Configured for Vercel deployment

### Key Files & Patterns
- **Main Routes**: `/app/dashboard/*` (main application), `/app/auth/*` (authentication)
- **Core Components**: `/components/dashboard/`, `/components/stats/`, `/components/rag/`
- **Database Schema**: Users, Children, Events collections in MongoDB
- **API Conventions**: RESTful routes under `/app/api/`, session-based auth checks

## ðŸ§  Critical Reminders for Next AI Session

### ALWAYS Follow This Flow:
1. âœ… **READ THIS FILE FIRST** - Context is critical
2. âœ… **Check tasks/TODO.md** - Know current priorities  
3. âœ… **Make a plan** - Get user approval BEFORE coding
4. âœ… **Work step by step** - Update todos as you progress
5. âœ… **Simple changes only** - Avoid massive refactors
6. âœ… **Update this file at session end** - Document progress

### Current Achievement Status:
- ðŸŽ¯ **System**: Claude AI workflow initialized for Happy Dreamers
- ðŸŽ¯ **Priority**: Awaiting specific development tasks
- ðŸŽ¯ **Next**: User to provide specific feature requests or bug fixes

## ðŸš€ Happy Dreamers Specific Context

### Language & Localization
- **Primary Language**: Spanish (interface, comments, user-facing text)
- **Code Comments**: Spanish throughout the codebase
- **Error Messages**: Spanish for user-facing, English for technical logs

### Core Features
1. **Multi-Child Support**: Parents can track multiple children
2. **Sleep Event Tracking**: Bedtime, wake-ups, naps with timestamps
3. **Emotional State Tracking**: Mood correlation with sleep patterns
4. **AI Consultations**: GPT-4 powered transcript analysis
5. **RAG System**: Document-based Q&A for sleep-related queries
6. **Survey System**: Comprehensive child history forms
7. **Analytics Dashboard**: Sleep patterns, trends, and insights

### Database Collections
- **users**: Parent and admin accounts with role-based access
- **children**: Child profiles with survey data
- **events**: Sleep events, activities, emotional states
- **Vector Storage**: RAG system documents (MongoDB Atlas Search)

### Security Considerations
- **Authentication**: NextAuth.js with JWT sessions
- **Authorization**: Role-based (parent vs admin)
- **Data Isolation**: Parents only see their children's data
- **Sensitive Data**: Child health information requires extra care

### AI System Architecture
- **Multi-Agent System**: Router, RAG, and Child Data agents
- **LangGraph**: Orchestrates agent interactions
- **OpenAI GPT-4**: Powers consultations and analysis
- **Doctor Personality**: Dr. Mariana persona for friendly interactions

### Current Git Branch
- **Branch**: devpraulio (active development branch)
- **Main Branch**: main (for production PRs)

---
*Auto-generated by Claude AI Workflow System for Happy Dreamers*
